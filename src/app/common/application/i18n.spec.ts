import { Constants } from './constants';
import * as fs from 'node:fs';
import path from 'node:path';

describe('validate i18n', () => {
    const validKeys = [
        'Information',
        'about',
        'add',
        'add-artist',
        'add-artist-error',
        'add-folder',
        'add-folder-error',
        'add-folders-with-your-music',
        'add-more-themes',
        'add-symbol',
        'add-symbol-error',
        'add-to-playback-queue',
        'add-to-playlist',
        'added-tracks',
        'advanced',
        'album',
        'album-artists',
        'albums',
        'albums-defined-by-folders-on-computer',
        'albums-defined-by-tag-album-title',
        'albums-defined-by-tags-album-title-and-album-artist',
        'all-artists',
        'also-check-for-pre-releases',
        'appearance',
        'artist',
        'artist-information',
        'artists',
        'artists-to-never-split',
        'audio-visualizer',
        'automatic-refresh',
        'back',
        'bars',
        'behavior',
        'broken',
        'by',
        'by-album',
        'by-album-artist',
        'by-album-title-ascending',
        'by-album-title-descending',
        'by-artist-ascending',
        'by-artist-descending',
        'by-date-added',
        'by-date-created',
        'by-genre-ascending',
        'by-genre-descending',
        'by-last-played',
        'by-playlist-name-ascending',
        'by-playlist-name-descending',
        'by-rating',
        'by-track-title-ascending',
        'by-track-title-descending',
        'by-year-ascending',
        'by-year-descending',
        'cancel',
        'change-image',
        'change-image-error',
        'changing-will-trigger-album-cover-refresh',
        'check-for-updates',
        'choose-folder',
        'choose-image',
        'choose-language',
        'choose-order',
        'choose-text-size',
        'choose-type',
        'click-here-to-download-new-version',
        'close',
        'close-to-notification-area',
        'color',
        'columns',
        'comment',
        'components',
        'confirm-delete-folder',
        'confirm-delete-folder-long',
        'confirm-delete-playlist',
        'confirm-delete-playlist-folder',
        'confirm-delete-playlist-folder-long',
        'confirm-delete-playlist-long',
        'confirm-delete-song',
        'confirm-delete-songs',
        'confirm-remove-artist',
        'confirm-remove-from-playlist',
        'confirm-remove-from-playlist-long',
        'confirm-remove-symbol',
        'contact-us',
        'create-playlist',
        'create-playlist-folder',
        'create-playlist-folder-error',
        'date-added',
        'day',
        'days',
        'delete',
        'delete-folder',
        'delete-folder-error',
        'delete-playlist-error',
        'delete-playlist-folder-error',
        'delete-song',
        'delete-songs',
        'delete-songs-error',
        'disc-count',
        'disc-number',
        'discord',
        'donate',
        'donate-instructions',
        'donate-now',
        'done',
        'download-title',
        'download-action',
        'download-artist-information-from-lastfm',
        'download-image-error',
        'download-lyrics-online',
        'download-missing-album-covers',
        'downloading-of-artist-information-from-lastfm-disabled',
        'duration',
        'edit',
        'edit-columns',
        'edit-playlist',
        'edit-track',
        'edit-tracks',
        'embedded-lyrics',
        'enable-discord-rich-presence',
        'enable-gapless-playback',
        'enable-last-fm-scrobbling',
        'error',
        'exit',
        'export',
        'flames',
        'folder',
        'folder-already-added',
        'folders',
        'follow-album-cover-color',
        'follow-song',
        'follow-system-color',
        'follow-system-theme',
        'fps',
        'frame-rate',
        'gapless-playback',
        'genres',
        'get-folders-error',
        'giga-bytes',
        'global-error',
        'grouping',
        'hi',
        'hour',
        'hours',
        'image',
        'information',
        'invalid-characters',
        'invert-notification-area-icon-color',
        'jump-to-playing-song',
        'keep-playback-controls-visible-on-now-playing-page',
        'kilo-bytes',
        'language',
        'language-code',
        'language-name-english',
        'language-name-localized',
        'last-fm',
        'last-fm-login-failed',
        'last-played',
        'let-us-set-up-collection',
        'let-us-start-dopamine',
        'license',
        'lines',
        'loading',
        'log-file',
        'log-in',
        'logged-in',
        'logged-out',
        'loop',
        'love',
        'lrc-lyrics',
        'lyrics',
        'manage-collection',
        'manual-refresh',
        'mega-bytes',
        'minimize-to-notification-area',
        'minute',
        'minutes',
        'multiple-images',
        'multiple-tracks-added-to-playback-queue',
        'multiple-tracks-added-to-playlist',
        'multiple-values',
        'music',
        'mute',
        'next',
        'no',
        'no-biography-found',
        'no-folders-in-collection',
        'no-image-found-online',
        'no-lyrics',
        'no-lyrics-found',
        'no-playlists',
        'nothing-is-playing',
        'notification-area',
        'now-playing',
        'number',
        'ok',
        'online',
        'online-lyrics',
        'online-preferences',
        'open-folder',
        'open-menu',
        'pages',
        'password',
        'pause',
        'paused',
        'pick-your-language',
        'play',
        'play-all',
        'playback-queue',
        'playback-state',
        'playing',
        'playing-with-dopamine',
        'playlist-folder',
        'playlist-folder-is-empty',
        'playlist-folder-name',
        'playlist-folders',
        'playlist-name',
        'playlists',
        'plays',
        'please-consider-donating',
        'previous',
        'random',
        'rating',
        'read-more-on-lastfm',
        'read-tags-error-multiple-files',
        'read-tags-error-single-file',
        'refresh',
        'refresh-all',
        'refresh-all-covers',
        'refresh-collection-automatically',
        'refresh-collection-now',
        'refresh-missing',
        'refresh-missing-covers',
        'refresh-now',
        'refresh-themes',
        'refreshing',
        'remember-playback-state-after-restart',
        'remove-artist',
        'remove-artist-error',
        'remove-from-playback-queue',
        'remove-from-playlist',
        'remove-from-playlist-error',
        'remove-image',
        'remove-symbol',
        'remove-symbol-error',
        'removing-tracks',
        'rename',
        'rename-playlist-folder',
        'rename-playlist-folder-error',
        'rename-playlist-folder-placeholder',
        'save-love-error',
        'save-rating-error',
        'save-rating-to-audio-files',
        'save-tags-error-multiple-files',
        'save-tags-error-single-file',
        'second',
        'seconds',
        'select-folder',
        'select-playlist-folder',
        'settings',
        'show-all-folders-in-the-collection',
        'show-audio-visualizer',
        'show-dopamine',
        'show-icon-in-notification-area',
        'show-in-folder',
        'show-in-the-collection',
        'show-love',
        'show-rating',
        'show-welcome-screen-now',
        'show-welcome-screen-on-next-restart',
        'showcase',
        'shuffle',
        'shuffle-all',
        'similar',
        'single-track-added-to-playback-queue',
        'single-track-added-to-playlist',
        'skip-previously-removed-files',
        'skips',
        'something-wrong-look-in-log-file',
        'split-artists',
        'style',
        'switch-player',
        'symbols-to-split-multiple-artists',
        'text-size',
        'thanks',
        'thanks-to-developers',
        'thanks-to-donaters',
        'thanks-to-neowin',
        'thanks-to-sharlee',
        'thanks-to-translators',
        'thanks-to-visualisationexpo',
        'theme',
        'title',
        'title-bar',
        'track',
        'track-artists',
        'track-count',
        'track-number',
        'tracks',
        'unknown-album',
        'unknown-artist',
        'unknown-genre',
        'unknown-title',
        'unmute',
        'unsorted',
        'update-album-cover',
        'updates',
        'updating-album-artwork',
        'updating-tracks',
        'use-light-theme',
        'use-system-title-bar',
        'username',
        'version',
        'view-log',
        'volume',
        'website',
        'welcome-screen',
        'welcome-to-dopamine',
        'what-should-dopamine-look-like',
        'which-pages-should-be-visible',
        'year',
        'yes',
        'images',
        'i-prefer-square-images',
        'none',
        'oldest-first',
        'newest-first',
        'compact-view',
        'expanded-view',
        'cannot-play-audio-file',
        'cannot-play-m4a-file',
        'highlights',
        'composer',
        'conductor',
        'bpm',
        'crossfade',
        'use-crossfade',
        'crossfade-duration',
    ].sort();

    Constants.languages.forEach((language) => {
        const fileName = `${language.code}.json`;

        it(`"${fileName}" should contain only valid keys`, () => {
            // Arrange
            const filePath = path.resolve(__dirname, `../../../assets/i18n/${fileName}`);
            const fileContent = fs.readFileSync(filePath, 'utf-8');
            const jsonData = JSON.parse(fileContent);

            // Act
            const result = Object.keys(jsonData).sort();

            // Assert
            expect(result).toEqual(validKeys);
        });
    });
});
